<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>StackKnot | Test</title>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
    <th:block th:include="partials/bootstrap :: styling"></th:block>
    <th:block th:include="partials/header :: styling"></th:block>
</head>
<body onload="onload()">
<nav th:replace="partials/navbar :: navbar"></nav>
<div class="container mt-3">
    <h1 class="pt-4" th:text="${gradedTest.grade} + '%'"></h1>

    <div class="py-1" th:each="testQuestion : ${gradedTest.testQuestions}">
        <h4 th:text="${testQuestion.question}"></h4>
        <div class="py-1">
            <div class="py1"><p th:text="${testQuestion.answer1}"></p></div>
            <div class="py-1"><p th:text="${testQuestion.answer2}"></p></div>
            <div class="py-1"><p th:text="${testQuestion.answer3}"></p></div>
            <div class="py-1"><p th:text="${testQuestion.answer4}"></p></div>
        </div>
        <div class="user-correct" th:if="${testQuestion.userChoice.equals(testQuestion.correctAnswer)}">
            <h5 class="p-2">
                th:text="'You answered: ' + ${testQuestion.userChoice}"></h5>
        </div>
        <div class="user-wrong" th:if="${!testQuestion.userChoice.equals(testQuestion.correctAnswer)}">
            <h5 class="p-2" th:text="'You answered: ' + ${testQuestion.userChoice}"></h5>
            <h5 class="p-2" th:text="'The correct answer is: ' + ${testQuestion.correctAnswer}"></h5>
        </div>
    </div>

    <form th:action="@{/profile}" th:method="GET">
        <button class="mb-3 btn text-white" style="background-color: darkorange" type="submit">Back to profile</button>
    </form>
</div>
<th:block th:replace="partials/header :: scripts"></th:block>
</body>
</html>